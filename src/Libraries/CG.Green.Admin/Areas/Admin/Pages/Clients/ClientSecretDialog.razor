<MudDialog>
    <DialogContent>
        <EditForm Model="@Model" OnValidSubmit="OnValidSubmit">
            <MudCard Outlined>
                <MudCardContent>
                    <DataAnnotationsValidator />
                    <MudTextField AutoFocus
                                        Required
                                        Immediate
                                        OnlyValidateIfDirty
                                  Margin="Margin.Dense"
                                  Counter="@(Globals.Models.Secrets.ValueLength)"
                                  Variant="Variant.Outlined"
                                  Label="Secret Value"
                                  For="@(() => Model.Value)"
                                  @bind-Value="@Model.Value"
                                  ReadOnly=@(IsEditing)
                                  DisableUnderLine=@(IsEditing)
                                  Adornment=@(IsEditing ? Adornment.None : Adornment.End)
                                  AdornmentAriaLabel="generate secret"
                                  AdornmentIcon="@Icons.Material.TwoTone.AddToPhotos"
                                  OnAdornmentClick="OnNewSecretValue"
                                  Class="ml-auto" />
                    <MudTextField AutoFocus
                                        Immediate
                                        OnlyValidateIfDirty
                                  Margin="Margin.Dense"
                                  Counter="@(Globals.Models.Secrets.DescriptionLength)"
                                  Variant="Variant.Outlined"
                                  Label="Secret Description"
                                  For="@(() => Model.Description)"
                                  Lines="4"
                                  @bind-Value="@Model.Description"
                                  Class="ml-auto" />
                    <MudTextField T="DateTime?"
                                        AutoFocus
                                        Immediate
                                        OnlyValidateIfDirty
                                        Clearable
                                        Format="s"
                                  Margin="Margin.Dense"
                                  Variant="Variant.Outlined"
                                  InputType="InputType.DateTimeLocal"
                                  Label="Secret Expiration"
                                  For="@(() => Model.Expiration)"
                                  @bind-Value="@Model.Expiration"
                                  Class="ml-auto" />
                </MudCardContent>
                <MudCardActions>
                    <MudButton Variant="Variant.Outlined" Color="Color.Inherit" Class="mr-2 ml-auto" OnClick="Cancel">Cancel</MudButton>
                    <MudButton Variant="Variant.Filled" ButtonType="ButtonType.Submit" Color="Color.Primary">Save</MudButton>
                </MudCardActions>
            </MudCard>
        </EditForm>
    </DialogContent>
</MudDialog>